<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="static/gridstyle.css"/>
    <title>Pedagogiska möbler</title>
</head>
<body>
    <div class="header">
        <div id="language"></div>
        <img id="backgroundImage" src="static/temp_header.jpg" alt="">
        <div id="backgroundImageBlur"></div>
        <div id="logo">
            <img src="static/Hivemind.png" alt="">
        </div>
        <div id="menu">
            <p>
                <a href="#project">| PROJEKTET</a>
            </p>
            <p>
                | PEDAGOGISKA MÖBLER
            </p>
            <p>
                | RAPPORTER
            </p>
            <p>
                | OM OSS
            </p>

        </div>
    </div>
    <div class="content">
        <div id="project">
            <h1 id="projectHeader">Pedagogiska möbler</h1>
            <div id="projectImage">
                <h2 id="projectTitle">
                    
                </h2>
                <img id="projectImageImage" src="" alt="">
            </div>
            <p id="projectText"></p>
            <div id="projectNavigation">
                <div id="projectNavigation1" class="circle"></div>
                <div id="projectNavigation2" class="circle"></div>
                <div id="projectNavigation3" class="circle"></div>
                <div id="projectNavigation4" class="circle"></div>
                <div id="projectNavigation5" class="circle"></div>
            </div>

        </div>
        <div id="furniture"></div>
        <div id="reports"></div>
        <div id="about"></div>
    </div>

   <!-- <div class="menu">
        <h2>Hej alla kompisar!</h2>
        <p>Och hej alla ovänner!</p>
        <p>Och hej alla ovänner!</p>
    </div>
    <div class="menu">
        <h2 id="logo">Hej alla kompisar!</h2>
        <p id="ingress">Och hejdå!</p>
        <p id="brodtext">Bomber och granater!</p>
    </div>

    <div>

    </div> -->
    <script>

        
        
        data = null
        lang_is_sv = window.localStorage.getItem('lang') === "true" ? true : false
        selectedCircle = 1
        lang = document.getElementById("language")

        if (window.localStorage.getItem('lang') === NaN) {
            console.log("NININ")
            window.localStorage.setItem('lang', lang_is_sv.toString())
        }
        console.log(window.localStorage.getItem('lang'))

        start = async ()=>{
            const res = await fetch("data.json")
            data = await res.json()

            changeCard(selectedCircle)
            lang.innerHTML = `<img src="static/${lang_is_sv?"united-kingdom":"sweden"}.png" alt="" height="30px"><p>${lang_is_sv?"Engligh":"Svenska"}</p>`

            lang.addEventListener("click", (e)=>{
                lang_is_sv = !lang_is_sv
                window.localStorage.setItem('lang', lang_is_sv.toString())
                changeCard(selectedCircle)
                lang.innerHTML = `<img src="static/${lang_is_sv?"united-kingdom":"sweden"}.png" alt="" height="30px"><p>${lang_is_sv?"Engligh":"Svenska"}</p>`
            })

            setInterval(()=>{
                changeCard(((selectedCircle)%5)+1)
            }, 2000)
        }

        clearCircles = ()=>{
            Array.from(document.getElementsByClassName("circle")).forEach(element => {
                element.style.backgroundColor = "transparent"
            })
        }

        changeCard = (number)=>{
            console.log(number)
            clearCircles()
            selectedCircle = number
            document.getElementById(`projectNavigation${selectedCircle}`).style.backgroundColor = "grey"
            document.getElementById("projectTitle").innerHTML = data[lang_is_sv?"sv":"en"][selectedCircle-1].title
            document.getElementById("projectImageImage").src = data[lang_is_sv?"sv":"en"][selectedCircle-1].img
            document.getElementById("projectText").innerHTML = data[lang_is_sv?"sv":"en"][selectedCircle-1].desc
        }

        Array.from(document.getElementsByClassName("circle")).forEach(element => {
            element.addEventListener("click", (e)=>{
                changeCard(parseInt(e.target.id.slice(-1)))
            })
        })

        start()
    </script>
</body>
</html>









